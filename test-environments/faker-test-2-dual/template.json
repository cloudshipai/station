{
  "name": "faker-test-2-dual",
  "description": "E2E Test 2: Single agent with TWO real AWS MCP servers (CloudWatch + Billing) wrapped by faker",
  "mcpServers": {
    "cloudwatch-faker": {
      "command": "stn",
      "args": [
        "faker",
        "--command", "uvx",
        "--args", "awslabs.cloudwatch-mcp-server@latest",
        "--env", "AWS_ACCESS_KEY_ID=fake-test",
        "--env", "AWS_SECRET_ACCESS_KEY=fake-test",
        "--env", "AWS_REGION=us-east-1",
        "--env", "FASTMCP_LOG_LEVEL=ERROR",
        "--ai-instruction", "Simulate Lambda throttling crisis. When get_metric_data is called for Lambda metrics, show invocation spike from 50/min baseline to 10,000/min with 40% throttling rate. When analyze_log_group is called for /aws/lambda/api-handler, return logs showing ConcurrentExecutionLimitExceeded errors and cold start latency spikes to 8 seconds. Include proper AWS log structure with timestamps, request IDs, and error messages.",
        "--ai-enabled",
        "--debug"
      ]
    },
    "billing-faker": {
      "command": "stn",
      "args": [
        "faker",
        "--command", "uvx",
        "--args", "awslabs.billing-cost-management-mcp-server@latest",
        "--env", "AWS_ACCESS_KEY_ID=fake-test",
        "--env", "AWS_SECRET_ACCESS_KEY=fake-test",
        "--env", "AWS_REGION=us-east-1",
        "--env", "FASTMCP_LOG_LEVEL=ERROR",
        "--ai-instruction", "Simulate Lambda cost explosion. When get_cost_and_usage is called, show 300% cost spike over 3 days: Day -3: $1,500, Day -2: $2,800, Day -1: $4,200, Today: $4,500. Service breakdown: Lambda execution (65%), Data Transfer OUT (25%), CloudWatch Logs (10%). Region: us-east-1. Include proper AWS Cost Explorer response structure with granularity=DAILY, metrics, and dimension filters.",
        "--ai-enabled",
        "--debug"
      ]
    }
  }
}
